"use strict";(self.webpackChunkweb_visualizer=self.webpackChunkweb_visualizer||[]).push([[107],{9306:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"Events/new-events","title":"New Events","description":"All the events will work as previous events worked","source":"@site/docs/Events/new-events.md","sourceDirName":"Events","slug":"/Events/new-events","permalink":"/visualizer-docs/docs/Events/new-events","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Events/new-events.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"colors","permalink":"/visualizer-docs/docs/Events/colors"},"next":{"title":"Visualizer Documentation","permalink":"/visualizer-docs/docs/"}}');var o=t(4848),a=t(8453);const r={},i="New Events",l={},d=[{value:"Loading States",id:"loading-states",level:3},{value:"Wrap Listener",id:"wrap-listener",level:3},{value:"Examples",id:"examples",level:3},{value:"Loading Hook",id:"loading-hook",level:4},{value:"LoadingButton component",id:"loadingbutton-component",level:4}];function c(e){const n={code:"code",h1:"h1",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"new-events",children:"New Events"})}),"\n",(0,o.jsx)(n.p,{children:"All the events will work as previous events worked\nHere's an example of the format of the events"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:'{\n\tType: "EventName",\n\tValue: "Payload"\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"loading-states",children:"Loading States"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"LoadingStarted"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Loading the selected model car"}),"\n",(0,o.jsxs)(n.li,{children:["The ",(0,o.jsx)(n.code,{children:"Value"})," prop is empty"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"LoadingFinished"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"The car loaded correctly, we can now show the wrap button"}),"\n",(0,o.jsxs)(n.li,{children:["The ",(0,o.jsx)(n.code,{children:"Value"})," prop is empty"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"LoadingFailed"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Something went wrong, the ",(0,o.jsx)(n.code,{children:"Value"})," property sends a string with the error description"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"wrap-listener",children:"Wrap Listener"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:'{\n\ttype: "WrapCar"\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["Once the ",(0,o.jsx)(n.code,{children:"WrapCar"}),' event is sent it\'ll start the visualizer as before (Like when you clicked "Wrap Car" button)']}),"\n",(0,o.jsx)(n.h3,{id:"examples",children:"Examples"}),"\n",(0,o.jsx)(n.h4,{id:"loading-hook",children:"Loading Hook"}),"\n",(0,o.jsx)(n.p,{children:"Example on how to listen for the new events and expose them on a hook function"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:'export function useLoading() {\n\n  const [loading, setLoading] = useState({\n\tstatus: false,\n    message: "",\n    error: null,\n  });\n\n  const handleMessage = (event) => {\n\t  const eventMessage = JSON.parse(event);\n\t\n\t  if (eventMessage.Type === "LoadingStarted") {\n\t\tsetLoading({ status: true, message: "Loading Started" });\n\t\treturn;\n\t  }\n\t\n\t  if (eventMessage.Type === "LoadingFinished") {\n\t\tsetLoading({ status: false, message: "Success" });\n\t\treturn;\n\t  }\n\t\n\t  if (eventMessage.Type === "LoadingFailed") {\n\t\tconsole.log("Loading failed", eventMessage);\n\t\tsetLoading({ status: false, error: eventMessage.Value });\n\t\treturn;\n\t  }\n  }\n  \n  useEffect(() => {\n    window.addEventListener("message", handleMessage);\n    return () => {\n      window.removeEventListener("message", handleMessage);\n    };\n  }, []);\n\n  return {\n\t  loading,\n  }\n}\n'})}),"\n",(0,o.jsx)(n.h4,{id:"loadingbutton-component",children:"LoadingButton component"}),"\n",(0,o.jsx)(n.p,{children:"LoadingButton component is an example of how to implement a loading component"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:'/*\n * LoadingButton component is a button that shows a loading spinner when the loading prop is true.\n * It accepts an onClick function, a loading boolean, and a text string.\n * @param {Object} props\n * @param {Function} props.onClick The function to call when the button is clicked\n * @param {Boolean} props.loading A boolean that determines if the loading spinner should be shown\n * @param {String} props.text The text to display on the button\n * @param {String} props.error The error message to display\n */\nexport function LoadingButton({ onClick, loading, text, error }) {\n  return loading ? (\n    <div className="loading-container">\n      <div className="load"></div>\n      <span>Loading...</span>\n    </div>\n  ) : error ? <ErrorMessage message={error} /> : (\n    <button\n      className="loading-button ford-button"\n      onClick={onClick}\n    >\n      {text}\n    </button>\n  );\n}\n\nfunction ErrorMessage({ message }) {\n  return <div className="error-message">{message}</div>;\n}\n'})})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>i});var s=t(6540);const o={},a=s.createContext(o);function r(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);